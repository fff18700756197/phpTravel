(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-099f433f"],{"0418":function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-breadcrumb",{staticStyle:{height:"30px"},attrs:{separator:"/"}},e._l(e.items,(function(t){return a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[e._v(e._s(t))])])})),1)},r=[],i={data:function(){return{}},props:{items:{type:Array,required:!0}},methods:{},created:function(){},mounted:function(){}},o=i,n=a("2877"),s=Object(n["a"])(o,l,r,!1,null,"45f0ebee",null);t["a"]=s.exports},6579:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("basic-header",{attrs:{items:["店铺管理","配送管理"]}}),a("el-card",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"模板查看",name:"first"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"name",label:"模板名称"}}),a("el-table-column",{attrs:{prop:"type",label:"计费方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.type?a("span",[e._v("重量")]):a("span",[e._v("数量")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"update_time",label:"修改时间"}}),a("el-table-column",{attrs:{prop:"operating",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.edit(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.del(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],1),a("el-tab-pane",{attrs:{label:"模板添加",name:"second"}},[a("el-col",{attrs:{span:12}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"模板名称"}},[a("el-input")],1),a("el-form-item",{attrs:{label:"模板类型"}},[a("el-radio-group",{model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}},[a("el-radio",{attrs:{label:1}},[e._v("按重量计费")]),a("el-radio",{attrs:{label:2}},[e._v("按数量计费")])],1)],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"提示",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.editForm,"label-width":"80px"}},[a("el-tab",[a("el-tab-pane",{attrs:{label:"模板规则"}}),a("el-tab-pane",{attrs:{label:"规则添加",name:"add"}},[a("el-form",[a("el-form-item",{attrs:{label:"地区选择"}})],1)],1)],1),a("el-form-item",{attrs:{label:"模板名称",prop:"name"}},[a("el-input")],1),a("el-form-item",{attrs:{label:"配送模板"}},[a("el-radio-group",{model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}},[a("el-radio",{attrs:{label:1}},[e._v("按重量计费")]),a("el-radio",{attrs:{label:2}},[e._v("按数量计费")])],1)],1),a("el-form-item",{attrs:{label:"配送规则"}},[a("el-table",{attrs:{border:!0,data:e.ruleData}},[a("el-table-column",{attrs:{label:"地区",prop:"area"}}),a("el-table-column",{attrs:{label:"价格",prop:"price"}}),a("el-table-column",{attrs:{label:"操作"}},[[a("el-button",{attrs:{type:"text"}},[e._v("删除")])]],2)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)],1)},r=[],i=a("0418"),o={data:function(){return{activeName:"first",api:"/api/delivery/delivery",page:1,pageSize:5,total:0,tableData:[],ruleData:[],editForm:{},dialogFormVisible:!1,submitForm:{name:"",type:""},rules:{name:{},type:{}},rules2:{},ruleForm:{}}},methods:{fetchData:function(){var e=this;this.axios.get(this.api,{params:{page:this.page,pageSize:this.pageSize}}).then((function(t){e.tableData=t.data.data,e.total=t.data.total}))},change:function(){this.fetchData()},edit:function(e){var t=this;this.dialogFormVisible=!0,this.editForm=e,this.axios.get("/api/rules/rules",{params:{did:e.id}}).then((function(e){200===e.data.code&&(t.editForm=e.data.data)}))},del:function(e){var t=this;this.$confirm("此操作将永久删除分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.axios.delete(t.api,{params:{id:e}}).then((function(e){200===e.data.code&&(t.$message.success("删除成功"),t.fetchData())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleSelect:function(e){this.ruleForm.area=e.area.value},addRules:function(){var e=this;this.$refs.ruleForm.validate((function(t){t&&(e.ruleForm.delivery_id=e.editForm.id,e.axios.post("api/rules/rules".$this.ruleForm).then((function(t){200===t.data.code&&(e.$message.success("添加成功"),e.$refs.ruleForm.resetFields(),e.activeName2="edit")})))}))}},components:{"basic-header":i["a"]},created:function(){this.fetchData()},mounted:function(){}},n=o,s=a("2877"),c=Object(s["a"])(n,l,r,!1,null,"1e7eca6d",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-099f433f.8e6c2fe9.js.map